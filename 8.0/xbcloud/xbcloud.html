



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation">
      
      
        <meta name="author" content="Percona LLC">
      
      
        <link rel="canonical" href="https://docs.percona.com/percona-xtrabackup-docs/8.0/8.0/xbcloud/xbcloud.html">
      
      <link rel="icon" href="../_static/percona_favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.9">
    
    
      
        <title>The xbcloud Binary - Percona XtraBackup</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.08040f6c.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://unicons.iconscout.com/release/v3.0.3/css/line.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
    
      <link rel="stylesheet" href="../css/percona.css">
    
      <link rel="stylesheet" href="../css/version-select.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-343802-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");ga("send","event","feedback","click",t,e),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){ga("send","pageview",e.pathname)})});var e=document.createElement("script");e.async=!0,e.src="https://www.google-analytics.com/analytics.js",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="percona-light" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#the-xbcloud-binary" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://percona.com/software/documentation" class="md-header__button md-logo" aria-label="Percona XtraBackup" data-md-component="logo">
      
  <img src="../_static/percona-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis"><a href="https://www.percona.com/software/documentation">
            Percona Product Documentation
          </a></span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              The xbcloud Binary
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="percona-light" data-md-color-primary="" data-md-color-accent="" type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="" type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/percona/pxb-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    percona/pxb-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Percona XtraBackup" class="md-nav__button md-logo" aria-label="Percona XtraBackup" data-md-component="logo">
      
  <img src="../_static/percona-logo.svg" alt="logo">

    </a>
    Percona XtraBackup
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/percona/pxb-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    percona/pxb-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Percona XtraBackup - Documentation
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Introduction" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intro.html" class="md-nav__link">
        About Percona XtraBackup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how_xtrabackup_works.html" class="md-nav__link">
        How Percona XtraBackup Works
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtrabackup-versioning-scheme.html" class="md-nav__link">
        Xtrabackup versioning scheme
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Installation" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/apt_repo.html" class="md-nav__link">
        Installing Percona XtraBackup on Debian and Ubuntu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/yum_repo.html" class="md-nav__link">
        Installing Percona XtraBackup on Red Hat Enterprise Linux and CentOS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/binary-tarball.html" class="md-nav__link">
        Installing Percona XtraBackup from a Binary Tarball
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/compiling_xtrabackup.html" class="md-nav__link">
        Compiling and Installing from Source Code
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Run in Docker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Run in Docker" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Run in Docker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/docker.html" class="md-nav__link">
        Running Percona XtraBackup in a Docker container
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          How Percona XtraBackup works
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="How Percona XtraBackup works" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          How Percona XtraBackup works
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtrabackup_bin/implementation_details.html" class="md-nav__link">
        Implementation Details
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../using_xtrabackup/privileges.html" class="md-nav__link">
        Connection and Privileges Needed
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../using_xtrabackup/configuring.html" class="md-nav__link">
        Configuring xtrabackup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../using_xtrabackup/comparison.html" class="md-nav__link">
        Server Version and Backup Version Comparison
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtrabackup_bin/xtrabackup_exit_codes.html" class="md-nav__link">
        xtrabackup Exit Codes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Backup Scenarios
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Backup Scenarios" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Backup Scenarios
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../backup_scenarios/full_backup.html" class="md-nav__link">
        The Backup Cycle - Full Backups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../backup_scenarios/incremental_backup.html" class="md-nav__link">
        Incremental Backup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../backup_scenarios/compressed_backup.html" class="md-nav__link">
        Compressed Backup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtrabackup_bin/partial_backups.html" class="md-nav__link">
        Partial Backups
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          User’s Manual
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="User’s Manual" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          User’s Manual
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../manual.html" class="md-nav__link">
        Percona XtraBackup User Manual
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Advanced Features
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Advanced Features" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Advanced Features
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/throttling_backups.html" class="md-nav__link">
        Throttling Backups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/encrypted_innodb_tablespace_backups.html" class="md-nav__link">
        Encrypted InnoDB tablespace backups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtrabackup_bin/backup.encrypting.html" class="md-nav__link">
        Encrypting Backups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtrabackup_bin/lru_dump.html" class="md-nav__link">
        LRU dump backup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtrabackup_bin/point-in-time-recovery.html" class="md-nav__link">
        Point-In-Time recovery
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtrabackup_bin/working_with_binary_logs.html" class="md-nav__link">
        Working with Binary Logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/log_enhancements.html" class="md-nav__link">
        Improved Log statements
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Security
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Security" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Security
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/pxb-selinux.html" class="md-nav__link">
        Working with SELinux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/pxb-apparmor.html" class="md-nav__link">
        Working with AppArmor
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Auxiliary guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Auxiliary guides" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Auxiliary guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../howtos/enabling_tcp.html" class="md-nav__link">
        Enabling the server to communicate via TCP/IP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../howtos/ssh_server.html" class="md-nav__link">
        Installing and configuring an SSH server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtrabackup_bin/analyzing_table_statistics.html" class="md-nav__link">
        Analyzing Table Statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtrabackup_bin/flush-tables-with-read-lock.html" class="md-nav__link">
        `FLUSH TABLES WITH READ LOCK` option
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/locks.html" class="md-nav__link">
        `lock-ddl-per-table` option improvements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/page_tracking.html" class="md-nav__link">
        Incremental backup using page tracking
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          xbcloud Binary
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="xbcloud Binary" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          xbcloud Binary
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          The xbcloud Binary
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="xbcloud.html" class="md-nav__link md-nav__link--active">
        The xbcloud Binary
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#supported-cloud-storage-types" class="md-nav__link">
    Supported Cloud Storage Types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supplying-parameters" class="md-nav__link">
    Supplying parameters
  </a>
  
    <nav class="md-nav" aria-label="Supplying parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-files" class="md-nav__link">
    Configuration files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    Environment variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shortcuts" class="md-nav__link">
    Shortcuts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-parameters" class="md-nav__link">
    Additional parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#incremental-backups" class="md-nav__link">
    Incremental backups
  </a>
  
    <nav class="md-nav" aria-label="Incremental backups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preparing-incremental-backups" class="md-nav__link">
    Preparing incremental backups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partial-download-of-the-cloud-backup" class="md-nav__link">
    Partial download of the cloud backup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="xbcloud_swift.html" class="md-nav__link">
        Using the xbcloud Binary with Swift
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="xbcloud_s3.html" class="md-nav__link">
        Using xbcloud Binary with Amazon S3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="xbcloud_minio.html" class="md-nav__link">
        Using the xbcloud binary with MinIO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="xbcloud_gcs.html" class="md-nav__link">
        Using the xbcloud with Google Cloud Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="xbcloud_exbackoff.html" class="md-nav__link">
        Exponential Backoff
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="xbcloud_azure.html" class="md-nav__link">
        Using the xbcloud binary with Microsoft Azure Cloud Storage
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12">
          Tutorials, Recipes, How-tos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorials, Recipes, How-tos" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Tutorials, Recipes, How-tos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-tos.html" class="md-nav__link">
        How-tos and Recipes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13" type="checkbox" id="__nav_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_13">
          Release notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Release notes" data-md-level="1">
        <label class="md-nav__title" for="__nav_13">
          <span class="md-nav__icon md-icon"></span>
          Release notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes.html" class="md-nav__link">
        Percona XtraBackup 8.0 Release Notes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.29-22.0.html" class="md-nav__link">
        Percona XtraBackup 8.0.29-22 (2022-07-19)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.28-21.0.html" class="md-nav__link">
        Percona XtraBackup 8.0.28-21 (2022-05-25)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.28-20.0.html" class="md-nav__link">
        Percona XtraBackup 8.0.28-20
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.27-19.0.html" class="md-nav__link">
        Percona XtraBackup 8.0.27-19
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.26-18.0.html" class="md-nav__link">
        Percona XtraBackup 8.0.26-18.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.25-17.0.html" class="md-nav__link">
        Percona XtraBackup 8.0.25-17.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.23-16.0.html" class="md-nav__link">
        Percona XtraBackup 8.0.23-16.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.22-15.0.html" class="md-nav__link">
        Percona XtraBackup 8.0.22-15.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.14.html" class="md-nav__link">
        Percona XtraBackup 8.0.14
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.13.html" class="md-nav__link">
        Percona XtraBackup 8.0.13
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.12.html" class="md-nav__link">
        Percona XtraBackup 8.0.12
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.11.html" class="md-nav__link">
        Percona XtraBackup 8.0.11
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.10.html" class="md-nav__link">
        Percona XtraBackup 8.0.10
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.9.html" class="md-nav__link">
        Percona XtraBackup 8.0.9
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.8.html" class="md-nav__link">
        Percona XtraBackup 8.0.8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.7.html" class="md-nav__link">
        Percona XtraBackup 8.0.7
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.6.html" class="md-nav__link">
        Percona XtraBackup 8.0.6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.5.html" class="md-nav__link">
        Percona XtraBackup 8.0.5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0.4.html" class="md-nav__link">
        Percona XtraBackup 8.0.4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0/8.0-3-rc1.html" class="md-nav__link">
        Percona XtraBackup 8.0-3-rc1
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14" type="checkbox" id="__nav_14" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14">
          Error message descriptions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Error message descriptions" data-md-level="1">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          Error message descriptions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../em/instant.html" class="md-nav__link">
        Error Message: Found tables with row versions due to INSTANT ADD/DROP columns
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15" type="checkbox" id="__nav_15" >
      
      
      
      
        <label class="md-nav__link" for="__nav_15">
          References
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="References" data-md-level="1">
        <label class="md-nav__title" for="__nav_15">
          <span class="md-nav__icon md-icon"></span>
          References
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtrabackup_bin/xbk_option_reference.html" class="md-nav__link">
        The xtrabackup Option Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xbcrypt/xbcrypt.html" class="md-nav__link">
        The xbcrypt binary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xbstream/xbstream.html" class="md-nav__link">
        The xbstream binary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq.html" class="md-nav__link">
        Frequently Asked Questions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../glossary.html" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtrabackup-files.html" class="md-nav__link">
        Index of files created by Percona XtraBackup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trademark-policy.html" class="md-nav__link">
        Trademark policy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../copyright-and-licensing-information.html" class="md-nav__link">
        Copyright and licensing information
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../version-check.html" class="md-nav__link">
        Version Checking
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
   <label class="md-nav__title" for="__drawer">
    <a href="https://learn.percona.com/download-percona-xtrabackup-8.0-manual" onclick="_gaq.push(['b._trackEvent', 'Percona XtraBackup', 'Download', 'Download Manual Percona XtraBackup']);" class="md-nav__link md-nav__link--active">
      Download PDF
    </a>
  </label> 
  </ul>
</nav>

                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#supported-cloud-storage-types" class="md-nav__link">
    Supported Cloud Storage Types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supplying-parameters" class="md-nav__link">
    Supplying parameters
  </a>
  
    <nav class="md-nav" aria-label="Supplying parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-files" class="md-nav__link">
    Configuration files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    Environment variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shortcuts" class="md-nav__link">
    Shortcuts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-parameters" class="md-nav__link">
    Additional parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#incremental-backups" class="md-nav__link">
    Incremental backups
  </a>
  
    <nav class="md-nav" aria-label="Incremental backups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preparing-incremental-backups" class="md-nav__link">
    Preparing incremental backups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partial-download-of-the-cloud-backup" class="md-nav__link">
    Partial download of the cloud backup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                

                <!-- Edit button -->
                
                  <a
                    href="https://github.com/percona/pxb-docs/edit/8.0/docs/xbcloud/xbcloud.md"
                    title="Edit this page"
                    class="md-content__button md-icon"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
                  </a>
                

                <!--
                  Hack: check whether the content contains a h1 headline. If it
                  doesn't, the page title (or respectively site name) is used
                  as the main headline.
                -->
                

                <!-- Markdown content -->
                <h1 id="the-xbcloud-binary">The xbcloud Binary<a class="headerlink" href="#the-xbcloud-binary" title="Permanent link">&para;</a></h1>
<p>The purpose of <em>xbcloud</em> is to download from the cloud and upload to 
the cloud the full or part of an <em>xbstream</em> archive. <em>xbcloud</em> will not 
overwrite the backup with the same name. <em>xbcloud</em> accepts input via a pipe from <em>xbstream</em> so that it can be
invoked as a pipeline with <em>xtrabackup</em> to stream directly to the cloud without
needing a local storage.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In a Bash shell, the <code>$?</code> parameter returns the exit code
from the last binary. If you use pipes, the
${PIPESTATUS[x]} array parameter returns the exit code for each 
binary in the pipe string.</p>
<div class="highlight"><pre><span></span><code>$ xtrabackup --backup --stream=xbstream --target-dir=/storage/backups/ | xbcloud put [options] full_backup
...
$ ${PIPESTATUS[x]}
0 0
$ true | false
$ echo $?
1

# with PIPESTATUS
$ true | false
$ echo ${PIPESTATUS[0]} ${PIPESTATUS[1]}
0 1
</code></pre></div>
</div>
<p>The <em>xbcloud</em> binary stores each chunk as a separate object with a name
<code>backup_name/database/table.ibd.NNNNNNNNNNNNNNNNNNNN</code>, where <code>NNN...</code> is a
0-padded serial number of chunk within a file. Size of chunk produced by
<em>xtrabackup</em> and <em>xbstream</em> changed to 10M.</p>
<p>To adjust the chunk size use <code>--read-buffer-size</code>. To adjust the chunk size for encrypted files, use <code>--read-buffer-size</code> and <code>--encrypt-chunk-size</code>.</p>
<p><em>xbcloud</em> has three essential operations: <em>put</em>, <em>get</em>, and <em>delete</em>. With these
operations, backups are created, stored, retrieved, restored, and
deleted. <em>xbcloud</em> operations clearly map to similar operations within 
the AWS Amazon S3 API.</p>
<p>The <a href="https://docs.percona.com/percona-xtrabackup/8.0/xbcloud/xbcloud_exbackoff.html#xbcloud-exbackoff">Exponential Backoff</a> feature was implemented in Percona XtraBackup 8.0.26-18. Suppose a chunk fails to upload or download. In that case, this feature adds an exponential backoff, or sleep, time and then retries the upload or download, which increases the chances of completing a backup or a restore operation.</p>
<h2 id="supported-cloud-storage-types">Supported Cloud Storage Types<a class="headerlink" href="#supported-cloud-storage-types" title="Permanent link">&para;</a></h2>
<p>The following cloud storage types are supported:</p>
<ul>
<li>
<p>OpenStack Object Storage (Swift) - see <a href="https://docs.percona.com/percona-xtrabackup/8.0/xbcloud/xbcloud_swift.html#xbcloud-swift">Using the xbcloud Binary with Swift</a></p>
</li>
<li>
<p>Amazon Simple Storage (S3) - see <a href="https://docs.percona.com/percona-xtrabackup/8.0/xbcloud/xbcloud_s3.html#xbcloud-s3">Using xbcloud Binary with Amazon S3</a></p>
</li>
<li>
<p>Azure Cloud Storage - see <a href="https://docs.percona.com/percona-xtrabackup/8.0/xbcloud/xbcloud_azure.html#xbcloud-azure">Using the xbcloud binary with Microsoft Azure Cloud Storage</a></p>
</li>
<li>
<p>Google Cloud Storage (gcs) - see <a href="https://docs.percona.com/percona-xtrabackup/8.0/xbcloud/xbcloud_gcs.html#xbcloud-gcs">Using the xbcloud with Google Cloud Storage</a></p>
</li>
<li>
<p>MinIO - see <a href="https://docs.percona.com/percona-xtrabackup/8.0/xbcloud/xbcloud_minio.html#xbcloud-minio">Using the xbcloud Binary with MinIO</a></p>
</li>
</ul>
<p>In addition to OpenStack Object Storage (Swift), which has been the only option for storing backups in a cloud storage until Percona XtraBackup 2.4.14, <em>xbcloud</em> supports Amazon S3, MinIO, and Google Cloud Storage. Other Amazon S3-compatible storages, such as Wasabi or Digital Ocean Spaces, are also supported.</p>
<div class="admonition admonition">
<p class="admonition-title">See also</p>
<p><a href="https://wiki.openstack.org/wiki/Swift">OpenStack Object Storage(&ldquo;Swift&rdquo;)</a></p>
<p><a href="https://aws.amazon.com/s3/">Amazon Simple Storage Service</a></p>
<p><a href="https://min.io/">MinIO</a></p>
<p><a href="https://cloud.google.com/storage/">Google Cloud Storage</a></p>
<p><a href="https://wasabi.com/">Wasabi</a></p>
<p><a href="https://www.digitalocean.com/products/spaces">Digital Ocean Spaces</a></p>
</div>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<p>The following sample command creates a full backup:</p>
<div class="highlight"><pre><span></span><code>$ xtrabackup --backup --stream<span class="o">=</span>xbstream --target-dir<span class="o">=</span>/storage/backups/ --extra-lsndirk<span class="o">=</span>/storage/backups/<span class="p">|</span> xbcloud <span class="se">\</span>
put <span class="o">[</span>options<span class="o">]</span> full_backup
</code></pre></div>
<p>An incremental backup only includes the changes since the last backup. The last backup can be either a full or incremental backup.</p>
<p>The following sample command creates an incremental backup:</p>
<div class="highlight"><pre><span></span><code>$ xtrabackup --backup --stream<span class="o">=</span>xbstream --incremental-basedir<span class="o">=</span>/storage/backups <span class="se">\</span>
--target-dir<span class="o">=</span>/storage/inc-backup <span class="p">|</span> xbcloud  put <span class="o">[</span>options<span class="o">]</span> inc_backup
</code></pre></div>
<p>To prepare an incremental backup, you must first download the full backup with the following command:</p>
<div class="highlight"><pre><span></span><code>$ xtrabackup get <span class="o">[</span>options<span class="o">]</span> full_backup <span class="p">|</span> xbstream -xv -C /tmp/full-backup
</code></pre></div>
<p>You must prepare the full backup:</p>
<div class="highlight"><pre><span></span><code>$ xtrabackup --prepare --apply-log-only --target-dir<span class="o">=</span>/tmp/full-backup
</code></pre></div>
<p>After the full backup has been prepared, download the incremental backup:</p>
<div class="highlight"><pre><span></span><code>xbcloud get [options] inc_backup | xbstream -xv -C /tmp/inc-backup
</code></pre></div>
<p>The downloaded backup is prepared by running the following command:</p>
<div class="highlight"><pre><span></span><code>$ xtrabackup --prepare --target-dir<span class="o">=</span>/tmp/full-backup --incremental-dir<span class="o">=</span>/tmp/inc-backup
</code></pre></div>
<p>You do not need the full backup to restore only a specific database. You can specify only the tables to be restored:</p>
<p><div class="highlight"><pre><span></span><code>xbcloud get [options] ibdata1 sakila/payment.ibd /tmp/partial/partial.xbs
</code></pre></div>
An example of the code: </p>
<div class="highlight"><pre><span></span><code>xbstream -xv -C /tmp/partial &lt; /tmp/partial/partial.xbs
</code></pre></div>
<h2 id="supplying-parameters">Supplying parameters<a class="headerlink" href="#supplying-parameters" title="Permanent link">&para;</a></h2>
<p>Each storage type has mandatory parameters that you can supply on the command
line, in a configuration file, and via environment variables.</p>
<h3 id="configuration-files">Configuration files<a class="headerlink" href="#configuration-files" title="Permanent link">&para;</a></h3>
<p>The parameters the values of which do not change frequently can be stored in
<code>my.cnf</code> or in a custom configuration file. The following example is a
template of configuration options under the <code>[xbcloud]</code> group:</p>
<div class="highlight"><pre><span></span><code>[xbcloud]
storage=s3
s3-endpoint=http://localhost:9000/
s3-access-key=minio
s3-secret-key=minio123
s3-bucket=backupsx
s3-bucket-lookup=path
s3-api-version=4
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you explicitly use a parameter on the command line and in a configuration file, <em>xbcloud</em> uses the value provided on the command line.</p>
</div>
<h3 id="environment-variables">Environment variables<a class="headerlink" href="#environment-variables" title="Permanent link">&para;</a></h3>
<p>If you explicitly use a parameter on the command line, in a configuration
file, and the corresponding environment variable contains a value, <em>xbcloud</em>
uses the value provided on the command line or in the configuration file.</p>
<h3 id="shortcuts">Shortcuts<a class="headerlink" href="#shortcuts" title="Permanent link">&para;</a></h3>
<p>For all operations (put, get, and delete), you can use a shortcut to specify the
storage type, bucket name, and backup name as one parameter instead of using
three distinct parameters (–storage, –s3-bucket, and backup name per se).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Use the following format: <code>storage-type://bucket-name/backup-name</code></p>
<p>In this example <strong>s3</strong> refers to a storage type, <strong>operator-testing</strong> 
is a bucket name, and <strong>bak22</strong> is the backup name. </p>
<div class="highlight"><pre><span></span><code>$ xbcloud get s3://operator-testing/bak22 ...
</code></pre></div>
<p>This shortcut expands as follows:</p>
<div class="highlight"><pre><span></span><code>$ xbcloud get --storage<span class="o">=</span>s3 --s3-bucket<span class="o">=</span>operator-testing bak22 ...
</code></pre></div>
</div>
<p>You can supply the mandatory parameters on the command line,
configuration files, and in environment variables.</p>
<h3 id="additional-parameters">Additional parameters<a class="headerlink" href="#additional-parameters" title="Permanent link">&para;</a></h3>
<p><em>xbcloud</em> accepts additional parameters that you can use with any storage
type. The <code>--md5</code> parameter computes the MD5 hash value of the backup
chunks. The result is stored in files that following the <code>backup_name.md5</code>
pattern.</p>
<div class="highlight"><pre><span></span><code>$ xtrabackup --backup --stream<span class="o">=</span>xbstream <span class="se">\</span>
--parallel<span class="o">=</span><span class="m">8</span> <span class="m">2</span>&gt;backup.log <span class="p">|</span> xbcloud put s3://operator-testing/bak22 <span class="se">\</span>
--parallel<span class="o">=</span><span class="m">8</span> --md5 <span class="m">2</span>&gt;upload.log
</code></pre></div>
<p>You may use the <code>--header</code> parameter to pass an additional HTTP
header with the server side encryption while specifying a customer key.</p>
<p>An example of using the <code>--header</code> for AES256 encryption.</p>
<div class="highlight"><pre><span></span><code>$ xtrabackup --backup --stream<span class="o">=</span>xbstream --parallel<span class="o">=</span><span class="m">4</span> <span class="p">|</span> <span class="se">\</span>
xbcloud put s3://operator-testing/bak-enc/ <span class="se">\</span>
--header<span class="o">=</span><span class="s2">&quot;X-Amz-Server-Side-Encryption-Customer-Algorithm: AES256&quot;</span> <span class="se">\</span>
--header<span class="o">=</span><span class="s2">&quot;X-Amz-Server-Side-Encryption-Customer-Key: CuStoMerKey=&quot;</span> <span class="se">\</span>
--header<span class="o">=</span><span class="s2">&quot;X-Amz-Server-Side-Encryption-Customer-Key-MD5: CuStoMerKeyMd5==&quot;</span> <span class="se">\</span>
--parallel<span class="o">=</span><span class="m">8</span>
</code></pre></div>
<p>The <code>--header</code> parameter is also useful to set the access control list (ACL)
permissions: <code>--header="x-amz-acl: bucket-owner-full-control</code></p>
<h2 id="incremental-backups">Incremental backups<a class="headerlink" href="#incremental-backups" title="Permanent link">&para;</a></h2>
<p>First, you need to make the full backup on which the incremental one is going to
be based:</p>
<div class="highlight"><pre><span></span><code>$ xtrabackup --backup --stream<span class="o">=</span>xbstream --extra-lsndir<span class="o">=</span>/storage/backups/ <span class="se">\</span>
--target-dir<span class="o">=</span>/storage/backups/ <span class="p">|</span> xbcloud put <span class="se">\</span>
--storage<span class="o">=</span>swift --swift-container<span class="o">=</span>test_backup <span class="se">\</span>
--swift-auth-version<span class="o">=</span><span class="m">2</span>.0 --swift-user<span class="o">=</span>admin <span class="se">\</span>
--swift-tenant<span class="o">=</span>admin --swift-password<span class="o">=</span>xoxoxoxo <span class="se">\</span>
--swift-auth-url<span class="o">=</span>http://127.0.0.1:35357/ --parallel<span class="o">=</span><span class="m">10</span> <span class="se">\</span>
full_backup
</code></pre></div>
<p>Then you can make the incremental backup:</p>
<div class="highlight"><pre><span></span><code>$ xtrabackup --backup --incremental-basedir<span class="o">=</span>/storage/backups <span class="se">\</span>
--stream<span class="o">=</span>xbstream --target-dir<span class="o">=</span>/storage/inc_backup <span class="p">|</span> xbcloud put <span class="se">\</span>
--storage<span class="o">=</span>swift --swift-container<span class="o">=</span>test_backup <span class="se">\</span>
--swift-auth-version<span class="o">=</span><span class="m">2</span>.0 --swift-user<span class="o">=</span>admin <span class="se">\</span>
--swift-tenant<span class="o">=</span>admin --swift-password<span class="o">=</span>xoxoxoxo <span class="se">\</span>
--swift-auth-url<span class="o">=</span>http://127.0.0.1:35357/ --parallel<span class="o">=</span><span class="m">10</span> <span class="se">\</span>
inc_backup
</code></pre></div>
<h3 id="preparing-incremental-backups">Preparing incremental backups<a class="headerlink" href="#preparing-incremental-backups" title="Permanent link">&para;</a></h3>
<p>To prepare a backup you first need to download the full backup:</p>
<div class="highlight"><pre><span></span><code>$ xbcloud get --swift-container<span class="o">=</span>test_backup <span class="se">\</span>
--swift-auth-version<span class="o">=</span><span class="m">2</span>.0 --swift-user<span class="o">=</span>admin <span class="se">\</span>
--swift-tenant<span class="o">=</span>admin --swift-password<span class="o">=</span>xoxoxoxo <span class="se">\</span>
--swift-auth-url<span class="o">=</span>http://127.0.0.1:35357/ --parallel<span class="o">=</span><span class="m">10</span> <span class="se">\</span>
full_backup <span class="p">|</span> xbstream -xv -C /storage/downloaded_full
</code></pre></div>
<p>Once you download the full backup it should be prepared:</p>
<div class="highlight"><pre><span></span><code>$ xtrabackup --prepare --apply-log-only --target-dir<span class="o">=</span>/storage/downloaded_full
</code></pre></div>
<p>After the full backup has been prepared you can download the incremental
backup:</p>
<div class="highlight"><pre><span></span><code>$ xbcloud get --swift-container<span class="o">=</span>test_backup <span class="se">\</span>
--swift-auth-version<span class="o">=</span><span class="m">2</span>.0 --swift-user<span class="o">=</span>admin <span class="se">\</span>
--swift-tenant<span class="o">=</span>admin --swift-password<span class="o">=</span>xoxoxoxo <span class="se">\</span>
--swift-auth-url<span class="o">=</span>http://127.0.0.1:35357/ --parallel<span class="o">=</span><span class="m">10</span> <span class="se">\</span>
inc_backup <span class="p">|</span> xbstream -xv -C /storage/downloaded_inc
</code></pre></div>
<p>Once the incremental backup has been downloaded you can prepare it by running:</p>
<div class="highlight"><pre><span></span><code>$ xtrabackup --prepare --apply-log-only <span class="se">\</span>
--target-dir<span class="o">=</span>/storage/downloaded_full <span class="se">\</span>
--incremental-dir<span class="o">=</span>/storage/downloaded_inc

$ xtrabackup --prepare --target-dir<span class="o">=</span>/storage/downloaded_full
</code></pre></div>
<h3 id="partial-download-of-the-cloud-backup">Partial download of the cloud backup<a class="headerlink" href="#partial-download-of-the-cloud-backup" title="Permanent link">&para;</a></h3>
<p>If you do not want to download the entire backup to restore the specific
database you can specify only the tables you want to restore:</p>
<div class="highlight"><pre><span></span><code>$ xbcloud get --swift-container<span class="o">=</span>test_backup
--swift-auth-version<span class="o">=</span><span class="m">2</span>.0 --swift-user<span class="o">=</span>admin <span class="se">\</span>
--swift-tenant<span class="o">=</span>admin --swift-password<span class="o">=</span>xoxoxoxo <span class="se">\</span>
--swift-auth-url<span class="o">=</span>http://127.0.0.1:35357/ full_backup <span class="se">\</span>
ibdata1 sakila/payment.ibd <span class="se">\</span>
&gt; /storage/partial/partial.xbs

$ xbstream -xv -C /storage/partial &lt; /storage/partial/partial.xbs
</code></pre></div>

                
<div class="md-relbar2__inner md-grid">
<div class="md-content">
  <article class="md-content__inner md-typeset" role="main">    
    <h4>Contact Us </h4>
       <p>For free technical help, visit the Percona <a class="reference external" href="https://forums.percona.com/c/mysql-mariadb/percona-xtrabackup/10?utm_campaign=Doc%20pages" target="_blank">Community Forum</a>.<br>
        <p>To report bugs or submit feature requests, open a <a class="reference external" href="https://jira.percona.com/projects/PXB/issues/" target="_blank">JIRA</a> ticket.<br>
         <p>For paid <a class="reference external" href="https://www.percona.com/services/support"> support </a> and <a class="reference external" href="https://www.percona.com/services/managed-services"> managed </a> or <a class="reference external" href="https://www.percona.com/services/consulting">consulting services </a>, contact <a class="reference external" href="https://www.percona.com/about-percona/contact" target="_blank">Percona Sales</a>.</p>
 </article>
</div>
</div>

                <!-- Last update of source file -->
                
                  
                    <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2022-11-11
    
  </small>
</div>
                  
                
              
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../advanced/page_tracking.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Incremental backup using page tracking" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Incremental backup using page tracking
            </div>
          </div>
        </a>
      
      
        
        <a href="xbcloud_swift.html" class="md-footer__link md-footer__link--next" aria-label="Next: Using the xbcloud Binary with Swift" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Using the xbcloud Binary with Swift
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Percona LLC, &#169; 2022
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["search.highlight", "navigation.top", "content.tabs.link"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
        <script src="../js/version-select.js"></script>
      
    
  </body>
</html>